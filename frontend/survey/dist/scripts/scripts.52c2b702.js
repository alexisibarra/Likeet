"use strict";angular.module("likeetApp",["ngAnimate","ngCookies","ngResource","ui.router","ngSanitize","ngTouch","restangular"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("register",{templateUrl:"views/main.html",controller:"MainCtrl",url:"/"}).state("survey",{templateUrl:"views/survey.html",controller:"SurveyCtrl",url:"/survey"})}]).config(["RestangularProvider",function(a){var b="";if("localhost"==window.location.hostname)b="http://localhost:5000/api";else{var c=window.location.href.substring(0,window.location.href);b=c+"/api"}a.setBaseUrl(b)}]),angular.module("likeetApp").controller("MainCtrl",["$scope","userService",function(a,b){a.User=b,a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("likeetApp").controller("SurveyCtrl",["$scope","$state","Restangular","userService",function(a,b,c,d){a.User=d,a.User.isNotSet()&&b.go("register");var e=c.all("randomresources");e.getList().then(function(b){a.resource=b[0]}),a.processResource=function(d,e){var f={resourceId:d,like:e};c.one("users",a.User.id).post("process",f).then(function(a){b.go(b.current,{},{reload:!0})})}}]),angular.module("likeetApp").controller("RegisterCtrl",["$scope","$state","Restangular","userService",function(a,b,c,d){a.UserData={},a.registerUser=function(){var e={email:a.UserData.email},f=c.all("users");a.User=d,f.post(e).then(function(c){a.User.id=c.id,a.User.email=c.email,b.go("survey")})}}]),angular.module("likeetApp").service("userService",function(){var a=this;a.id="",a.email="",a.isNotSet=function(){return""===this.id||""===this.email?!0:!1}});